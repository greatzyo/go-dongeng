["51093b88f403c14e798daf06c9499bb12430e452","913a71a9ac661052f88a898e953aa53e88fb9111",["react","../../utils/invariant","../AnimatedValueSubscription"],[113,208,343],{"version":3,"sources":["/home/dhamaddam/AndroidStudioProjects/go-dongeng/node_modules/react-navigation/src/views/CardStack/PointerEventsContainer.js"],"names":["create","MIN_POSITION_OFFSET","Component","Container","props","context","_pointerEvents","_computePointerEvents","_onPositionChange","bind","_onComponentRef","_bindPosition","_positionListener","remove","nextProps","component","_component","setNativeProps","position","pointerEvents","navigation","scene","isStale","state","index","offset","__getAnimatedValue","Math","abs"],"mappings":";;;kBAmBwBA,M;;AAjBxB;;;;AAEA;;;;AAEA;;;;AAMA,IAAMC,sBAAsB,IAA5B;;AAOe,SAASD,MAAT,CAAgBE,SAAhB,EAAyD;AAAA,MAChEC,SADgE;AAAA;;AAUpE,uBAAYC,KAAZ,EAA0BC,OAA1B,EAAwC;AAAA;;AAAA,oIAChCD,KADgC,EACzBC,OADyB;;AAEtC,YAAKC,cAAL,GAAsB,MAAKC,qBAAL,EAAtB;AAFsC;AAGvC;;AAbmE;AAAA;AAAA,2CAezC;AACzB,aAAKC,iBAAL,GAAyB,KAAKA,iBAAL,CAAuBC,IAAvB,CAA4B,IAA5B,CAAzB;AACA,aAAKC,eAAL,GAAuB,KAAKA,eAAL,CAAqBD,IAArB,CAA0B,IAA1B,CAAvB;AACD;AAlBmE;AAAA;AAAA,0CAoB1C;AACxB,aAAKE,aAAL,CAAmB,KAAKP,KAAxB;AACD;AAtBmE;AAAA;AAAA,6CAwBvC;AAC3B,aAAKQ,iBAAL,IAA0B,KAAKA,iBAAL,CAAuBC,MAAvB,EAA1B;AACD;AA1BmE;AAAA;AAAA,gDA4B1CC,SA5B0C,EA4BlB;AAChD,aAAKH,aAAL,CAAmBG,SAAnB;AACD;AA9BmE;AAAA;AAAA,+BAgC3D;AACP,aAAKR,cAAL,GAAsB,KAAKC,qBAAL,EAAtB;AACA,eACE,8BAAC,SAAD,2BACM,KAAKH,KADX;AAEE,yBAAe,KAAKE,cAFtB;AAGE,0BAAgB,KAAKI;AAHvB,WADF;AAOD;AAzCmE;AAAA;AAAA,sCA2CpDK,SA3CoD,EA2C9B;AACpC,aAAKC,UAAL,GAAkBD,SAAlB;AACA,YAAIA,SAAJ,EAAe;AACb,mCACE,OAAOA,UAAUE,cAAjB,KAAoC,UADtC,EAEE,kDAFF;AAID;AACF;AAnDmE;AAAA;AAAA,oCAqDtDb,KArDsD,EAqDX;AACvD,aAAKQ,iBAAL,IAA0B,KAAKA,iBAAL,CAAuBC,MAAvB,EAA1B;AACA,aAAKD,iBAAL,GAAyB,wCACvBR,MAAMc,QADiB,EAEvB,KAAKV,iBAFkB,CAAzB;AAID;AA3DmE;AAAA;AAAA,0CA6D1C;AACxB,YAAI,KAAKQ,UAAT,EAAqB;AACnB,cAAMG,gBAAgB,KAAKZ,qBAAL,EAAtB;AACA,cAAI,KAAKD,cAAL,KAAwBa,aAA5B,EAA2C;AACzC,iBAAKb,cAAL,GAAsBa,aAAtB;AACA,iBAAKH,UAAL,CAAgBC,cAAhB,CAA+B,EAAEE,4BAAF,EAA/B;AACD;AACF;AACF;AArEmE;AAAA;AAAA,8CAuEpC;AAAA,qBACU,KAAKf,KADf;AAAA,YACtBgB,UADsB,UACtBA,UADsB;AAAA,YACVF,QADU,UACVA,QADU;AAAA,YACAG,KADA,UACAA,KADA;;;AAG9B,YAAIA,MAAMC,OAAN,IAAiBF,WAAWG,KAAX,CAAiBC,KAAjB,KAA2BH,MAAMG,KAAtD,EAA6D;AAE3D,iBAAOH,MAAMG,KAAN,GAAcJ,WAAWG,KAAX,CAAiBC,KAA/B,GAAuC,UAAvC,GAAoD,MAA3D;AACD;;AAED,YAAMC,SAASP,SAASQ,kBAAT,KAAgCN,WAAWG,KAAX,CAAiBC,KAAhE;AACA,YAAIG,KAAKC,GAAL,CAASH,MAAT,IAAmBxB,mBAAvB,EAA4C;AAI1C,iBAAO,UAAP;AACD;;AAED,eAAO,MAAP;AACD;AAxFmE;AAAA;AAAA,IAC9C,gBAAMC,SADwC;;AA0FtE,SAAOC,SAAP;AACD","sourcesContent":["/* @flow */\n\nimport React from 'react';\n\nimport invariant from '../../utils/invariant';\n\nimport AnimatedValueSubscription from '../AnimatedValueSubscription';\n\nimport type { NavigationSceneRendererProps } from '../../TypeDefinition';\n\ntype Props = NavigationSceneRendererProps;\n\nconst MIN_POSITION_OFFSET = 0.01;\n\n/**\n * Create a higher-order component that automatically computes the\n * `pointerEvents` property for a component whenever navigation position\n * changes.\n */\nexport default function create(Component: ReactClass<*>): ReactClass<*> {\n  class Container extends React.Component<any, Props, any> {\n    _component: any;\n    _onComponentRef: (view: any) => void;\n    _onPositionChange: (data: { value: number }) => void;\n    _pointerEvents: string;\n    _positionListener: ?AnimatedValueSubscription;\n\n    props: Props;\n\n    constructor(props: Props, context: any) {\n      super(props, context);\n      this._pointerEvents = this._computePointerEvents();\n    }\n\n    componentWillMount(): void {\n      this._onPositionChange = this._onPositionChange.bind(this);\n      this._onComponentRef = this._onComponentRef.bind(this);\n    }\n\n    componentDidMount(): void {\n      this._bindPosition(this.props);\n    }\n\n    componentWillUnmount(): void {\n      this._positionListener && this._positionListener.remove();\n    }\n\n    componentWillReceiveProps(nextProps: Props): void {\n      this._bindPosition(nextProps);\n    }\n\n    render() {\n      this._pointerEvents = this._computePointerEvents();\n      return (\n        <Component\n          {...this.props}\n          pointerEvents={this._pointerEvents}\n          onComponentRef={this._onComponentRef}\n        />\n      );\n    }\n\n    _onComponentRef(component: any): void {\n      this._component = component;\n      if (component) {\n        invariant(\n          typeof component.setNativeProps === 'function',\n          'component must implement method `setNativeProps`'\n        );\n      }\n    }\n\n    _bindPosition(props: NavigationSceneRendererProps): void {\n      this._positionListener && this._positionListener.remove();\n      this._positionListener = new AnimatedValueSubscription(\n        props.position,\n        this._onPositionChange\n      );\n    }\n\n    _onPositionChange(): void {\n      if (this._component) {\n        const pointerEvents = this._computePointerEvents();\n        if (this._pointerEvents !== pointerEvents) {\n          this._pointerEvents = pointerEvents;\n          this._component.setNativeProps({ pointerEvents });\n        }\n      }\n    }\n\n    _computePointerEvents(): string {\n      const { navigation, position, scene } = this.props;\n\n      if (scene.isStale || navigation.state.index !== scene.index) {\n        // The scene isn't focused.\n        return scene.index > navigation.state.index ? 'box-only' : 'none';\n      }\n\n      const offset = position.__getAnimatedValue() - navigation.state.index;\n      if (Math.abs(offset) > MIN_POSITION_OFFSET) {\n        // The positon is still away from scene's index.\n        // Scene's children should not receive touches until the position\n        // is close enough to scene's index.\n        return 'box-only';\n      }\n\n      return 'auto';\n    }\n  }\n  return Container;\n}\n"]}]